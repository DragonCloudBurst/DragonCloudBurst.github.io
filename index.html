<!--HEY What are you.....

      Never mind have fun!!!
      
      
      -->

<!DOCTYPE html>
<html>
    <head>
        <title>Taskstronaut</title>
        <meta charset="UTF-8" lang="en">
        <link rel="icon" type="image/favicon" href="images/favicon_tasktronaut.ico">
        <link rel = "stylesheet" href = "main.css">
    </head>

    <body>
        <div id="window">
            <img src="images/hackncmockup_window.png">
            <p id="timer-text">00:00</p>
            <div class="buttons-div">
                <button type="button" id="start-btn" onclick="onPlay()"><img src="images/start_button.png"/></button>
                <button type="button" id="pause-btn" onclick="doPause()"><img src="images/pause_button.png"/></button>
                <button type="button" id="end-btn" onclick="stopPlay()"><img src="images/end_button.png"/></button>
            </div>
        </div>

        <div id="headfortask" class="Header">
            <h2>Taskstronaut</h2>
            <input type="text" id="myInput" placeholder="Enter a task...">
            <span onclick="newElement()" class="addBtn">Add</span>
        </div>
        <div>
            <ul id = "theTask">
            </ul>
        </div>

        <img src="images/divider.png" class="divider"/>

        <p class="credits-link" onclick="stroe()"><a href="exchange.html" >Spend Credits</a></p>

    <script>
        // Create a "close" button and append it to each list item
        function addCloseFunctionality() {
        var close = document.getElementsByClassName("close");
        for (let i = 0; i < close.length; i++) {
            close[i].onclick = function() {
                var div = this.parentElement;
                div.style.display = "none";
            }
        }
    }

    const taskComplete = new Audio("sounds/task_complete.wav");
    // Add a "checked" symbol when clicking on a list item
      // Add a "checked" symbol when clicking on a list item
      let credits = 0;
      var list = document.querySelector('ul');
      var countDisplay = document.createElement('div');
      countDisplay.classList.add("credit-counter");
      document.body.appendChild(countDisplay);
      list.addEventListener('click', function(ev) {  
        if (ev.target.tagName === 'LI') {
              ev.target.classList.toggle('checked');
              if(ev.target.classList.contains('checked')) {
              credits++;
              taskComplete.play();
              }
              else{
                credits--;
              }
            //Displays the checked items to the user.
            //TODO: Add Styling to the "countDisplay" variable
            countDisplay.textContent = `You have ${credits} credit(s).`;
          }
      }, false);
    // Create a new list item when clicking on the "Add" button
    function newElement() {
        var li = document.createElement("li");
        var inputValue = document.getElementById("myInput").value.trim();
        var t = document.createTextNode(inputValue);

        if (inputValue === '') {
            alert("You must write something!");
            return;
        }

        li.appendChild(t);
        document.getElementById("theTask").appendChild(li);
        document.getElementById("myInput").value = ""; // Clear input field


        var span = document.createElement("SPAN");
        var txt = document.createTextNode("\u00D7");
        span.className = "close";
        span.appendChild(txt);
        li.appendChild(span);


        addCloseFunctionality();
    }
       document.getElementById("myInput").addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
              newElement();
          }
        });
        function stroe()
        {
            aler("store");

        }
    </script>
    </body>
    <script src="code.js"></script>
</html>
