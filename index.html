<!DOCTYPE html>
<html>
    <head>
        <title>Tasktronaut</title>
        <meta charset="UTF-8" lang="en">
        <link rel = "stylesheet" href = "TodoList.css">
    </head>

    <body>
        
            <div id="window">
                <img src="images/hackncmockup_window.png">
                <p id="timer-text">00:00</p>
                <div class="buttons-div">
                    <button type="button" id="start-btn"><img src="images/start_button.png"/></button>
                    <button type="button" id="pause-btn"><img src="images/pause_button.png"/></button>
                    <button type="button" id="end-btn"><img src="images/end_button.png"/></button>
                </div>
            </div>
        <div id="main-div">
            <div id="headfortask" class="Header">
                <h2>Taskstronaut</h2>
                <p>Check off a task to earn credits!</p>
                <input type="text" id="myInput" placeholder="Enter a task...">
                <span onclick="newElement()" class="addBtn">Add</span>
            </div>
            <div id="theTask">
                <ul>
                </ul>
            </div>

            <h2 class="credits-page"><a href="exchange.html">Exchange Credits</a></h2>

            <script>
                // Create a "close" button and append it to each list item
                var myNodelist = document.getElementsByTagName("LI");
                var i;
                for (i = 0; i < myNodelist.length; i++) {
                  var span = document.createElement("SPAN");
                  var txt = document.createTextNode("\u00D7");
                  span.className = "close";
                  span.appendChild(txt);
                  myNodelist[i].appendChild(span);
                }
                
                // Click on a close button to hide the current list item
                var close = document.getElementsByClassName("close");
                var i;
                for (i = 0; i < close.length; i++) {
                  close[i].onclick = function() {
                    var div = this.parentElement;
                    div.style.display = "none";
                  }
                }
                
                // Add a "checked" symbol when clicking on a list item
                var list = document.querySelector('ul');
                list.addEventListener('click', function(ev) {
                  if (ev.target.tagName === 'LI') {
                    ev.target.classList.toggle('checked');
                  }
                }, false);
                
                // Create a new list item when clicking on the "Add" button
                function newElement() {
                  var li = document.createElement("li");
                  var inputValue = document.getElementById("myInput").value;
                  var t = document.createTextNode(inputValue);
                  li.appendChild(t);
                  if (inputValue === '') {
                    alert("You must write something!");
                  } else {
                    document.getElementById("theTask").appendChild(li);
                  }
                  document.getElementById("myInput").value = "";
                
                  var span = document.createElement("SPAN");
                  var txt = document.createTextNode("\u00D7");
                  span.className = "close";
                  span.appendChild(txt);
                  li.appendChild(span);
                
                  for (i = 0; i < close.length; i++) {
                    close[i].onclick = function() {
                      var div = this.parentElement;
                      div.style.display = "none";
                    }
                  }
                }
            </script>
        </div>
    </body>
</html>